<div id="log-grid">

</div>
<script type="text/javascript">
Ext.state.Manager.setProvider(new Ext.state.CookieProvider());
logxml = function(){

    var myData = [
        {data}
    ];
	function formatDate(value, p, record) {
    return String.format(
                '<b>{0}</b>',
                value.dateFormat('Y-m-d H:i:s'));
    }
    // example of custom renderer function
    function change(val){
        if(val > 0){
            return '<span style="color:green;">' + val + '</span>';
        }else if(val < 0){
            return '<span style="color:red;">' + val + '</span>';
        }
        return val;
    }

    // example of custom renderer function
    function pctChange(val){
        if(val > 0){
            return '<span style="color:green;">' + val + '%</span>';
        }else if(val < 0){
            return '<span style="color:red;">' + val + '%</span>';
        }
        return val;
    }
var reader = new Ext.data.ArrayReader({}, [
       {name: 'id', type: 'int'},
           {name: 'date', type: 'date', dateFormat: 'timestamp'},
           'priority',
           'message'
    ]);
    // create the data store
    var store = new Ext.data.GroupingStore({
    	reader: reader,
    	data: myData,
    	sortInfo:{field: 'id', direction: "ASC"},
        fields: [
           {name: 'id', type: 'int'},
           {name: 'date', type: 'date', dateFormat: 'timestamp'},
           'priority',
           'message'
        ],
        groupField:'id'
    });
    store.setDefaultSort('id', 'desc');
    store.loadData(myData);

    // create the Grid
    var grid = new Ext.grid.GridPanel({
        store: store,
        columns: [
            {id:'id',header: "ID", width: 40, sortable: true, dataIndex: 'id'},
            {header: "Date", width: 75, sortable: false, dataIndex: 'date',renderer:formatDate},
            {header: "Priority", width: 75, sortable: true, dataIndex: 'priority'},
            {header: "Message", dataIndex: 'message', id:'message', autoWidth:true}
        ],
        view: new Ext.grid.GroupingView({
            forceFit:true,
            groupTextTpl: '{text} ({[values.rs.length]} {[values.rs.length > 1 ? "Items" : "Item"]})'
        }),
        collapsible: true,
        stripeRows: true,
        autoExpandColumn: 'message',
        bufferResize: true,
        height:350,
        autoWidth: true,
        title:false,
        autoScroll: true,
    });

    grid.render('log-grid');
    

    grid.getSelectionModel().selectFirstRow();
   
};
logxml();
</script>